{"version":3,"sources":["Die.js","Dice.js","RuleRow.js","Rules.js","ScoreTable.js","Game.js","App.js","index.js"],"names":["Die","handleClick","_this","props","idx","_this$props","this","locked","numWords","val","disabled","rolling","classes","concat","react_default","a","createElement","className","onClick","Component","defaultProps","Dice","dice","map","d","src_Die_0","key","RuleRow","score","name","doScore","description","undefined","Rule","params","Object","classCallCheck","assign","reduce","prev","curr","freqs","Map","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","value","set","get","err","return","Array","from","values","filter","length","TotalOneNumber","evalRoll","count","SumDistro","_this2","freq","some","c","sum","FullHouse","_this3","includes","SmallStraight","Set","has","_this4","LargeStraight","size","_this5","Yahtzee","_this6","ones","twos","threes","fours","fives","sixes","threeOfKind","fourOfKind","fullHouse","smallStraight","largeStraight","yahtzee","chance","ScoreTable","getTotalScore","scores","totalScore","cellSpacing","src_RuleRow_0","evt","NUM_DICE","NUM_ROLLS","Game","possibleConstructorReturn","getPrototypeOf","call","state","fill","rollsLeft","roll","bind","assertThisInitialized","toggleLocked","animateRoll","setState","st","i","Math","ceil","random","setTimeout","toConsumableArray","slice","rulename","ruleFn","objectSpread","defineProperty","_this$state","src_Dice_0","every","x","displayRollInfo","src_ScoreTable_0","App","src_Game_0","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.7f81f43a.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport \"./Die.css\";\n\nclass Die extends Component {\n  static defaultProps = {\n    numWords: [\"one\", \"two\", \"three\", \"four\", \"five\", \"six\"],\n    val: 6\n  };\n\n  handleClick = () => {\n    this.props.handleClick(this.props.idx);\n  };\n\n  render() {\n    const { locked, numWords, val, disabled, rolling } = this.props;\n    let classes = `Die fas fa-dice-${numWords[val - 1]} fa-5x `;\n    if (locked) classes += \"Die-locked\";\n    if (rolling) classes += \"Die-rolling\";\n    return (\n      <i className={classes} onClick={this.handleClick} disabled={disabled} />\n    );\n  }\n}\n\nexport default Die;\n","import React, { Component } from \"react\";\nimport Die from \"./Die\";\nimport \"./Dice.css\";\n\nclass Dice extends Component {\n  render() {\n    return (\n      <div className=\"Dice\">\n        {this.props.dice.map((d, idx) => (\n          <Die\n            handleClick={this.props.handleClick}\n            val={d}\n            locked={this.props.locked[idx]}\n            idx={idx}\n            rolling={this.props.rolling && !this.props.locked[idx]}\n            disabled={this.props.disabled}\n            key={idx}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default Dice;\n","import React, { Component } from \"react\";\nimport \"./RuleRow.css\";\n\nclass RuleRow extends Component {\n  render() {\n    const { score, name, doScore, description } = this.props;\n    const disabled = score !== undefined;\n    return (\n      <tr\n        className={`RuleRow RuleRow-${disabled ? \"disabled\" : \"active\"}`}\n        onClick={disabled ? null : doScore}\n      >\n        <td className=\"RuleRow-name\">{name}</td>\n        <td className=\"RuleRow-score\">{disabled ? score : description}</td>\n      </tr>\n    );\n  }\n}\n\nexport default RuleRow;\n","/** Rule for Yahtzee scoring.\n *\n * This is an \"abstract class\"; the real rules are subclasses of these.\n * This stores all parameters passed into it as properties on the instance\n * (to simplify child classes so they don't need constructors of their own).\n *\n * It contains useful functions for summing, counting values, and counting\n * frequencies of dice. These are used by subclassed rules.\n */\n\nclass Rule {\n  constructor(params) {\n    // put all properties in params on instance\n    Object.assign(this, params);\n  }\n\n  sum(dice) {\n    // sum of all dice\n    return dice.reduce((prev, curr) => prev + curr);\n  }\n\n  freq(dice) {\n    // frequencies of dice values\n    const freqs = new Map();\n    for (let d of dice) freqs.set(d, (freqs.get(d) || 0) + 1);\n    return Array.from(freqs.values());\n  }\n\n  count(dice, val) {\n    // # times val appears in dice\n    return dice.filter(d => d === val).length;\n  }\n}\n\n/** Given a sought-for val, return sum of dice of that val.\n *\n * Used for rules like \"sum of all ones\"\n */\n\nclass TotalOneNumber extends Rule {\n  evalRoll = dice => {\n    return this.val * this.count(dice, this.val);\n  };\n}\n\n/** Given a required # of same dice, return sum of all dice.\n *\n * Used for rules like \"sum of all dice when there is a 3-of-kind\"\n */\n\nclass SumDistro extends Rule {\n  evalRoll = dice => {\n    // do any of the counts meet of exceed this distro?\n    return this.freq(dice).some(c => c >= this.count) ? this.sum(dice) : 0;\n  };\n}\n\n/** Check if full house (3-of-kind and 2-of-kind) */\n\nclass FullHouse extends Rule {\n  evalRoll = dice => {\n    const freqs = this.freq(dice);\n    return freqs.includes(2) && freqs.includes(3) ? this.score : 0;\n  };\n}\n\n/** Check for small straights. */\n\nclass SmallStraight extends Rule {\n  evalRoll = dice => {\n    const d = new Set(dice);\n    // straight can be 234 + either 1 or 5\n    if (d.has(2) && d.has(3) && d.has(4) && (d.has(1) || d.has(5)))\n      return this.score;\n\n    // straight can be 345 + either 2 or 6\n    if (d.has(3) && d.has(4) && d.has(5) && (d.has(2) || d.has(6)))\n      return this.score;\n    return 0;\n  };\n}\n\n/** Check for large straights. */\n\nclass LargeStraight extends Rule {\n  evalRoll = dice => {\n    const d = new Set(dice);\n\n    // large straight must be 5 different dice & only one can be a 1 or a 6\n    return d.size === 5 && (!d.has(1) || !d.has(6)) ? this.score : 0;\n  };\n}\n\n/** Check if all dice are same. */\n\nclass Yahtzee extends Rule {\n  evalRoll = dice => {\n    // all dice must be the same\n    return this.freq(dice)[0] === 5 ? this.score : 0;\n  };\n}\n\n// ones, twos, etc score as sum of that value\nconst ones = new TotalOneNumber({ val: 1, description: \"1 point per 1\" });\nconst twos = new TotalOneNumber({ val: 2, description: \"2 point per 2\" });\nconst threes = new TotalOneNumber({ val: 3, description: \"3 point per 3\" });\nconst fours = new TotalOneNumber({ val: 4, description: \"4 point per 4\" });\nconst fives = new TotalOneNumber({ val: 5, description: \"5 point per 5\" });\nconst sixes = new TotalOneNumber({ val: 6, description: \"6 point per 6\" });\n\n// three/four of kind score as sum of all dice\nconst threeOfKind = new SumDistro({\n  count: 3,\n  description: \"Sum all dice if 3 are the same\"\n});\nconst fourOfKind = new SumDistro({\n  count: 4,\n  description: \"Sum all dice if 4 are the same\"\n});\n\n// full house scores as flat 25\nconst fullHouse = new FullHouse({\n  score: 25,\n  description: \"25 points for a full house\"\n});\n\n// small/large straights score as 30/40\nconst smallStraight = new SmallStraight({\n  score: 30,\n  description: \"30 points for a small straight\"\n});\nconst largeStraight = new LargeStraight({\n  score: 40,\n  description: \"30 points for a large straight\"\n});\n\n// yahtzee scores as 50\nconst yahtzee = new Yahtzee({\n  score: 50,\n  description: \"50 points for Yahtzee (5 the same)\"\n});\n\n// for chance, can view as some of all dice, requiring at least 0 of a kind\nconst chance = new SumDistro({ count: 0, description: \"Sum of all dice\" });\n\nexport {\n  ones,\n  twos,\n  threes,\n  fours,\n  fives,\n  sixes,\n  threeOfKind,\n  fourOfKind,\n  fullHouse,\n  smallStraight,\n  largeStraight,\n  yahtzee,\n  chance\n};\n","import React, { Component } from \"react\";\nimport RuleRow from \"./RuleRow\";\nimport \"./ScoreTable.css\";\nimport {\n  ones,\n  twos,\n  threes,\n  fours,\n  fives,\n  sixes,\n  threeOfKind,\n  fourOfKind,\n  fullHouse,\n  smallStraight,\n  largeStraight,\n  yahtzee,\n  chance\n} from \"./Rules\";\n\nclass ScoreTable extends Component {\n  getTotalScore = () => {\n    const { scores } = this.props;\n    let totalScore = 0;\n    for (let key in scores) {\n      if (scores[key]) totalScore += scores[key];\n    }\n    return totalScore;\n  };\n  render() {\n    const { scores, doScore } = this.props;\n\n    return (\n      <div className=\"ScoreTable\">\n        <section className=\"ScoreTable-section\">\n          <h2>Upper</h2>\n          <table cellSpacing=\"0\">\n            <tbody>\n              <RuleRow\n                description={ones.description}\n                name=\"Ones\"\n                score={scores.ones}\n                doScore={evt => doScore(\"ones\", ones.evalRoll)}\n              />\n              <RuleRow\n                description={twos.description}\n                name=\"Twos\"\n                score={scores.twos}\n                doScore={evt => doScore(\"twos\", twos.evalRoll)}\n              />\n              <RuleRow\n                description={threes.description}\n                name=\"Threes\"\n                score={scores.threes}\n                doScore={evt => doScore(\"threes\", threes.evalRoll)}\n              />\n              <RuleRow\n                description={fours.description}\n                name=\"Fours\"\n                score={scores.fours}\n                doScore={evt => doScore(\"fours\", fours.evalRoll)}\n              />\n              <RuleRow\n                description={fives.description}\n                name=\"Fives\"\n                score={scores.fives}\n                doScore={evt => doScore(\"fives\", fives.evalRoll)}\n              />\n              <RuleRow\n                description={sixes.description}\n                name=\"Sixes\"\n                score={scores.sixes}\n                doScore={evt => doScore(\"sixes\", sixes.evalRoll)}\n              />\n            </tbody>\n          </table>\n        </section>\n        <section className=\"ScoreTable-section ScoreTable-section-lower\">\n          <h2>Lower</h2>\n          <table cellSpacing=\"0\">\n            <tbody>\n              <RuleRow\n                description={threeOfKind.description}\n                name=\"Three of Kind\"\n                score={scores.threeOfKind}\n                doScore={evt => doScore(\"threeOfKind\", threeOfKind.evalRoll)}\n              />\n              <RuleRow\n                description={fourOfKind.description}\n                name=\"Four of Kind\"\n                score={scores.fourOfKind}\n                doScore={evt => doScore(\"fourOfKind\", fourOfKind.evalRoll)}\n              />\n              <RuleRow\n                description={fullHouse.description}\n                name=\"Full House\"\n                score={scores.fullHouse}\n                doScore={evt => doScore(\"fullHouse\", fullHouse.evalRoll)}\n              />\n              <RuleRow\n                description={smallStraight.description}\n                name=\"Small Straight\"\n                score={scores.smallStraight}\n                doScore={evt =>\n                  doScore(\"smallStraight\", smallStraight.evalRoll)\n                }\n              />\n              <RuleRow\n                description={largeStraight.description}\n                name=\"Large Straight\"\n                score={scores.largeStraight}\n                doScore={evt =>\n                  doScore(\"largeStraight\", largeStraight.evalRoll)\n                }\n              />\n              <RuleRow\n                description={yahtzee.description}\n                name=\"Yahtzee\"\n                score={scores.yahtzee}\n                doScore={evt => doScore(\"yahtzee\", yahtzee.evalRoll)}\n              />\n              <RuleRow\n                description={chance.description}\n                name=\"Chance\"\n                score={scores.chance}\n                doScore={evt => doScore(\"chance\", chance.evalRoll)}\n              />\n            </tbody>\n          </table>\n        </section>\n        <h2>Total Score: {this.getTotalScore()}</h2>\n      </div>\n    );\n  }\n}\n\nexport default ScoreTable;\n","import React, { Component } from \"react\";\nimport Dice from \"./Dice\";\nimport ScoreTable from \"./ScoreTable\";\nimport \"./Game.css\";\n\nconst NUM_DICE = 5;\nconst NUM_ROLLS = 3;\n\nclass Game extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dice: Array.from({ length: NUM_DICE }),\n      locked: Array(NUM_DICE).fill(false),\n      rollsLeft: NUM_ROLLS,\n      rolling: false,\n      scores: {\n        ones: undefined,\n        twos: undefined,\n        threes: undefined,\n        fours: undefined,\n        fives: undefined,\n        sixes: undefined,\n        threeOfKind: undefined,\n        fourOfKind: undefined,\n        fullHouse: undefined,\n        smallStraight: undefined,\n        largeStraight: undefined,\n        yahtzee: undefined,\n        chance: undefined\n      }\n    };\n    this.roll = this.roll.bind(this);\n    this.doScore = this.doScore.bind(this);\n    this.toggleLocked = this.toggleLocked.bind(this);\n    this.animateRoll = this.animateRoll.bind(this);\n  }\n\n  roll(evt) {\n    // roll dice whose indexes are in reroll\n    this.setState(st => ({\n      dice: st.dice.map((d, i) =>\n        st.locked[i] ? d : Math.ceil(Math.random() * 6)\n      ),\n      locked: st.rollsLeft > 1 ? st.locked : Array(NUM_DICE).fill(true),\n      rollsLeft: st.rollsLeft - 1,\n      rolling: false\n    }));\n  }\n  componentDidMount() {\n    this.animateRoll();\n  }\n  animateRoll() {\n    this.setState({ rolling: true }, () => {\n      setTimeout(this.roll, 1000);\n    });\n  }\n\n  toggleLocked(idx) {\n    // toggle whether idx is in locked or not\n    if (this.state.rollsLeft > 0 && !this.state.rolling) {\n      this.setState(st => ({\n        locked: [\n          ...st.locked.slice(0, idx),\n          !st.locked[idx],\n          ...st.locked.slice(idx + 1)\n        ]\n      }));\n    }\n  }\n\n  doScore(rulename, ruleFn) {\n    // evaluate this ruleFn with the dice and score this rulename\n    this.setState(st => ({\n      scores: { ...st.scores, [rulename]: ruleFn(this.state.dice) },\n      rollsLeft: NUM_ROLLS,\n      locked: Array(NUM_DICE).fill(false)\n    }));\n    this.animateRoll();\n  }\n\n  displayRollInfo() {\n    const messages = [\n      \"0 Rolls left\",\n      \"1 Roll left\",\n      \"2 Rolls left\",\n      \"Starting Round\"\n    ];\n    return messages[this.state.rollsLeft];\n  }\n\n  render() {\n    const { dice, locked, rollsLeft, rolling, scores } = this.state;\n    return (\n      <div className=\"Game\">\n        <header className=\"Game-header\">\n          <h1 className=\"App-title\">Yahtzee!</h1>\n\n          <section className=\"Game-dice-section\">\n            <Dice\n              dice={dice}\n              locked={locked}\n              handleClick={this.toggleLocked}\n              rolling={rolling}\n              disabled={rollsLeft === 0}\n            />\n            <div className=\"Game-button-wrapper\">\n              <button\n                className=\"Game-reroll\"\n                disabled={locked.every(x => x) || rollsLeft === 0 || rolling}\n                onClick={this.animateRoll}\n              >\n                {this.displayRollInfo()}\n              </button>\n            </div>\n          </section>\n        </header>\n        <ScoreTable doScore={this.doScore} scores={scores} />\n      </div>\n    );\n  }\n}\n\nexport default Game;\n","import React, { Component } from \"react\";\nimport Game from \"./Game\";\nimport \"./App.css\";\n\nclass App extends Component {\n  render() {\n    return (\n      <div className='App'>\n        <Game />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"@fortawesome/fontawesome-free/css/all.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}